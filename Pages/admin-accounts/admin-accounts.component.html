<div class="admin-section">
  <!-- Messages -->
  <div class="success-message" *ngIf="successMessage">
    ✓ {{ successMessage }}
  </div>
  <div class="error-message" *ngIf="errorMessage">
    ✕ {{ errorMessage }}
  </div>

  <div class="section">
    <h3>Create New Admin Account</h3>
    <form [formGroup]="adminForm" (ngSubmit)="createAdminAccount()" class="admin-form">
      <div class="form-group">
        <label for="username">Username:</label>
        <input
          id="username"
          type="text"
          formControlName="username"
          placeholder="Admin username"
          class="form-input"
          [class.error]="usernameControl?.invalid && usernameControl?.touched"
        />
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input
          id="password"
          type="password"
          formControlName="password"
          placeholder="Admin password"
          class="form-input"
          [class.error]="passwordControl?.invalid && passwordControl?.touched"
        />
      </div>
      <div class="form-group">
        <label for="role">Role:</label>
        <select id="role" formControlName="role" class="form-input">
          <option value="admin">Admin</option>
          <option value="super_admin">Super Admin</option>
        </select>
      </div>
      <button type="submit" class="create-button" [disabled]="adminForm.invalid">
        Create Admin Account
      </button>
    </form>
  </div>

  <div class="section">
    <h3>Admin Accounts</h3>
    <div class="table-container" *ngIf="adminAccounts.length > 0; else noAdmins">
      <table class="admins-table">
        <thead>
          <tr>
            <th>Username</th>
            <th>Role</th>
            <th>Created At</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let admin of adminAccounts">
            <td>
              {{ admin.username }}
              <span class="current-badge" *ngIf="admin.username === currentAdminUsername">(You)</span>
            </td>
            <td><span class="role-badge" [class.super]="admin.role === 'super_admin'">{{ getRoleLabel(admin.role) }}</span></td>
            <td>{{ admin.createdAt | date: 'short' }}</td>
            <td>
              <button 
                class="delete-button"
                (click)="deleteAdminAccount(admin.username)"
                [disabled]="admin.username === currentAdminUsername">
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <ng-template #noAdmins>
      <div class="empty-state">
        <p>No admin accounts found.</p>
      </div>
    </ng-template>
  </div>
</div>
